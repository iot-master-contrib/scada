"use strict";(self.webpackChunkscada=self.webpackChunkscada||[]).push([[481],{4808:(B,l,n)=>{n.r(l),n.d(l,{ViewerModule:()=>M});var g=n(6895),c=n(4575),w=n(760),s=n(4650),f=n(1481),v=n(1445),V=n(758);const y=[{path:":id",component:(()=>{class e{constructor(t,r,p,j,h){this.title=t,this.element=r,this.rs=p,this.cs=j,this.route=h,this.id="",this.index=0;let m=h.snapshot.queryParams.mousewheel,u=h.snapshot.queryParams.panning;this.graph=new w.kJ({container:r.nativeElement,interacting:!1,mousewheel:"true"==m||"1"==m,panning:"true"==u||"1"==u}),this.graph.on("cell:click",({cell:i,e:a})=>{this.cs.Get(i.shape)?.listeners?.click?.call(this,i,a)}),this.graph.on("cell:mouseenter",({cell:i,e:a})=>{this.cs.Get(i.shape)?.listeners?.mouseenter?.call(this,i,a)}),this.graph.on("cell:mouseleave",({cell:i,e:a})=>{this.cs.Get(i.shape)?.listeners?.mouseleave?.call(this,i,a)})}Render(t){t.content?.cells?.forEach(r=>{this.cs.Get(r.shape)}),this.graph.drawBackground({color:t.background_color,image:t.background_image}),this.graph.fromJSON(t.content)}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.rs.get(`api/project/${this.id}`).subscribe(t=>{this.project=t.data,this.title.setTitle(this.project.name),this.Render(this.project.pages[0])})}handlePageChange(t){this.Render(this.project.pages[this.index])}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(f.Dx),s.Y36(s.SBq),s.Y36(v.s),s.Y36(V.m),s.Y36(c.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-viewer"]],decls:0,vars:0,template:function(t,r){},styles:["[_nghost-%COMP%]{display:block;width:100%!important;height:100%!important}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[c.Bz.forChild(y),c.Bz]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[g.ez,C]}),e})()}}]);